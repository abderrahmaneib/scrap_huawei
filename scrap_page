import urllib
from bs4 import BeautifulSoup


base="http://www.huawei.com"
def make_soup(url):
	thepage = urllib.urlopen(url)
	soupdata = BeautifulSoup(thepage, "html.parser")
	return soupdata

soup = make_soup("http://www.huawei.com/en/psirt/security-advisories/huawei-sa-20170302-01-smartphone-en")
all_details = soup.findAll('div',attrs={'class':'psirt-set-out'})
all_content=""
for detail in all_details:
	#print detail.find('div', attrs={'class':'expand-moreb'}).text.strip()
	contenu =  detail.find('div',attrs={'class':'moreinfo'})
	tableau = contenu.findAll('tr')
	if tableau:
		table=""
		for ligne in tableau:
			data=""
			champs = ligne.findAll('td')
			for champ in champs:
				data = data + ";" + champ.text.strip()
			table = table + "/" + data[1:]

		all_content = all_content + "," + table
		continue 
	all_content = all_content + "," + contenu.text.strip()

	print all_content
